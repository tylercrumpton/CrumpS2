(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{1003:function(t,e,n){"use strict";n.d(e,"b",(function(){return C})),n.d(e,"d",(function(){return M})),n.d(e,"l",(function(){return j})),n.d(e,"c",(function(){return E})),n.d(e,"a",(function(){return O})),n.d(e,"i",(function(){return V})),n.d(e,"k",(function(){return I})),n.d(e,"h",(function(){return S})),n.d(e,"j",(function(){return U})),n.d(e,"g",(function(){return H})),n.d(e,"f",(function(){return $})),n.d(e,"e",(function(){return A}));var o=n(276),r=n(43),i=function(){function t(){}return t.prototype.execute=function(t,e,n,i,u){void 0===u&&(u=!0),(""===e.editValue||""!==e.editValue.trim())&&(i.$setViewValue(Object(o.b)(e.editValue,e.maxlength)),i.$commitViewValue(),i.$render(),e.onEnter({$event:t}),e.setEditMode(!1),n.removeClickListener(),u&&r.b(document.activeElement))},t}(),u=n(16),c=function(){function t(){}return t.prototype.execute=function(t,e,n){(e.forceEdit||e.editable&&e.editByClick)&&e.viewMode&&this.process(t,e,n)},t.prototype.process=function(t,e,n){e.forceEdit=!1,e.setEditMode(!0),e.onFocus({$event:t}),u.a.ios&&e.edit.focus(),setTimeout((function(){n.addClickListener(),e.controller.scrollIntoView()}))},t}(),a=n(0),s=n(490),f=function(){function t(){}return t.prototype.execute=function(t){var e="",n=[];return"\n"==t.charAt(t.length-1)&&(e="\n"),t.length&&(n=[{text:t+e,isHtml:!1,isUnknownMention:!1}]),n.map((function(t){return t.text.split(s.e.unicode).filter((function(t){return!!t})).map((function(e){var n=e,o=!1;return-1!=e.search(s.e.unicode)&&(o=!0),Object(a.a)(Object(a.a)({},t),{text:n,isHtml:t.isHtml||o})}))})).reduceRight((function(t,e){return e.concat.apply(e,t)}),[])},t}(),l=function(){function t(){}return t.prototype.execute=function(t,e,n){var r=Object(o.b)(t.editValue,t.maxlength);t.saveOnChange&&n.$setViewValue(r),t.useInput||t.controller.scrollIntoView(),t.onChange({value:r})},t}(),p=n(263),d=function(){function t(){}return t.prototype.execute=function(t,e){return t=(t=e.editAsHtml?t:p.d(t)).replace(s.e.unicode,(function(t){return p.i(t)}))},t}(),v=n(1835),h=n(1836),g=n(1837),m=n(1838),x=n(1839),w=n(1355),y=function(){function t(){}return t.prototype.execute=function(t){var e=t.length;return t.reduce((function(t,n){return n.isHtml?(t.push(n),t):(t.push.apply(t,Object(w.b)(n.text,n.isHtml,n.isUnknownMention,e>1)),t)}),[])},t}(),b=n(906),k=function(){function t(){}return t.prototype.execute=function(t){return Object(b.b)(t)},t}(),C=new i,M=new c,j=new f,E=new l,O=new d,V=new x.a,I=new v.a,S=new h.a,U=new g.a,H=new m.a,$=new y,A=new k},1004:function(t,e,n){"use strict";n.d(e,"b",(function(){return w})),n.d(e,"a",(function(){return y})),n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return k})),n.d(e,"c",(function(){return C}));var o=function(){var t=null,e=null;return{save:function(n,o){t=n,e=o},restore:function(){return{$scope:t,range:e}}}}(),r=function(){function t(){}return t.prototype.execute=function(t,e){var n=t.target,r=n&&n.tagName;if(r&&"a"===r.toLowerCase()&&"mention"===n.getAttribute("data-type"))return!0;o.save(e,e.edit.caret("pos"))},t}(),i=n(563),u=n(905),c=n(329),a=i.b(),s=function(){return c.a.instance.getAngularStatic().element("#mentions").controller("uiMentions")},f=function(){function t(){}return t.prototype.execute=function(t){if(!t.viewMode){var e=t.editValue,n=t.edit.caret("pos"),r=u.a(e,n),i=r.includes&&n<=e.length;if(i){var c=t.edit.offset(),a=t.edit.parents("[data-mentions-position]").attr("data-mentions-position");s().showMentions(u.c(r.substring),c,a,"top"),o.save(t,n),s().selectionChanged.has(this.onMentionsSelected,this)||s().selectionChanged.addOnce(this.onMentionsSelected,this)}else s().close();return i}},t.prototype.onMentionsSelected=function(t,e){var n=o.restore(),r=n.range,i=n.$scope,c=i.editValue,s=u.b(t.name||t.email),f=c.substring(0,c.substring(0,r).lastIndexOf("@")),l=c.substring(r,c.length);f.length&&f.lastIndexOf(" ")!=f.length-1&&f.lastIndexOf("\n")!=f.length-1&&(f+=" ");var p=[f,"@",s," ",l].join("");a().setMention(t),i.setEditMode(!0),i.editValue=p,i.safeApply(),i.onChange({value:i.editValue});var d=f.length+s.length+2,v=i.edit[0];function h(){v.focus(),v.setSelectionRange(d,d)}e&&h(),setTimeout((function(){e||h(),v.dispatchEvent(new Event("autosize:update"))}))},t}(),l=n(490),p=function(){function t(){}return t.prototype.execute=function(t,e){var n=!1,o=Object(i.a)();for(var r in l.b){var c=l.b[r],a=Object(l.c)(l.b[r]);if((t.match(a)||[]).length>0){t=t.replace(a,c);var s=o.getCustomMentionSize(r);s&&s>0&&e&&e.hasOwnProperty("customMentionsSizes")&&(e.customMentionsSizes[r]=s),n=!0}}return(t.match(l.e.parser)||[]).forEach((function(e){var r=u.c(e.substring(1,e.length)),i=o.getMentionByPrefixMatch(r,t);i&&"custom"!=i.id&&(t=o.replaceMentionInText(i,t),n=!0)})),n&&e&&e.hasOwnProperty("hasMentions")&&(e.hasMentions=!0),t},t}(),d=n(276),v='<a href="#" class="unhover" data-type="mention" data-id="$1">@',h="</a>",g=function(){function t(){}return t.prototype.execute=function(t){var e=Object(i.a)();return t.map((function(t){return t.text.split(l.e.mentions).filter((function(t){return!!t})).map((function(n){var o=n,r=!1,i=!1;if(-1!=n.search(l.e.userMention)){var u=n.substring(2,n.length-1),c=e.getMentionById(u);c&&c.name?(o=""+v.replace("$1",u)+Object(d.e)(c.name)+h,r=!0):(o="@unknown",i=!0)}for(var a in l.b){var s=Object(l.c)(l.b[a]);-1!=n.search(s)&&(o=""+v.replace("$1","-1")+a+h,r=!0)}return{text:o,isHtml:t.isHtml||r,isUnknownMention:i}}))})).reduceRight((function(t,e){return e.concat.apply(e,t)}),[])},t}(),m=n(2008),x=function(){function t(){}return t.prototype.execute=function(t,e){return Object(m.a)(t)},t}(),w=new r,y=new f,b=new p,k=new g,C=new x},1005:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));var o=function(){function t(){}return t.prototype.execute=function(t){var e=t.target,n=e&&e.tagName;return!(!n||"a"!==n.toLowerCase()||"link"!==e.getAttribute("data-type"))||void 0},t}(),r=n(0),i=n(12);var u=function(){function t(){}return t.prototype.execute=function(t){return t.map((function(t){return t.text.split(i.n).filter((function(t){return!!t})).map((function(e){var n,o=e,u=!1;if(-1!==e.search(i.n))try{var c=new URL(e).href;o='<a href="'+(n=c)+'" target="_blank" data-type="link" class="js-page-opener">'+n+"</a>",u=!0}catch(t){}return Object(r.a)(Object(r.a)({},t),{text:o,isHtml:t.isHtml||u})}))})).reduceRight((function(t,e){return e.concat.apply(e,t)}),[])},t}(),c=new o,a=new u},1111:function(t,e,n){var o=n(348),r=n(863);t.exports=function(t){return r(o(t).toLowerCase())}},1355:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c}));n(1467);var o=n(853),r=(n(1111),n(1735));function i(t,e){var n=Object(o.b)(t.replace(/:/g,""));if(n){var i=e?r.b:r.a;return'<div class="emoji-icon emoji-icon--offset-top '+(e?"":"emoji-icon--16")+'" style="background-position: -'+n.bgX*i+"px -"+n.bgY*i+'px"></div>'}return t}function u(t){var e=t.match(r.c);if(e&&e.length>0){var n=1===e.length&&t.trim()===e[0];return e.forEach((function(e){t=t.replace(e,i(e,n))})),{text:t,isHtml:!0,isUnknownMention:!1}}return{text:t,isHtml:!1,isUnknownMention:!1}}function c(t,e,n,o){void 0===o&&(o=!1);var u=t.split(r.d).filter((function(t){return!!t})),c=!o&&1===u.length,a=[];return u.forEach((function(t){if(t.match(r.c)){var o=i(t,c);a.push({text:o,isHtml:!0,isUnknownMention:!1})}else a.push({text:t,isHtml:e,isUnknownMention:n})})),a}},1835:function(t,e,n){"use strict";(function(t){var o=n(363),r=function(){function e(){}return e.prototype.execute=function(e,n,r,i){return t.log("ui-textarea","[UITextareaProcessingKeyDownCmd] execute",e.keyCode),o.n(e.keyCode)},e}();e.a=r}).call(this,n(54))},1836:function(t,e,n){"use strict";(function(t){var o=n(199),r=n(16),i=function(){function e(){}return e.prototype.execute=function(e,n,i,u){if(t.log("ui-textarea","[UITextareaEscapeKeyDownCmd] execute",e.keyCode),r.a.isTouchSupportedAndNotDesktop||e.keyCode!==o.a.ESCAPE)return!1;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()},e}();e.a=i}).call(this,n(54))},1837:function(t,e,n){"use strict";(function(t){var o=n(363),r=n(16),i=function(){function e(){}return e.prototype.execute=function(e,n,i,u){if(t.log("ui-textarea","[UITextareaNewLineKeyDownCmd] execute",e.keyCode),r.a.isTouchSupportedAndNotDesktop||n.useInput||!o.i(e.keyCode)||o.j(e))return!1;var c=n.edit[0],a=c.value,s=c.selectionStart,f=a.slice(0,s);return c.value=f+"\n"+a.slice(c.selectionEnd),c.selectionStart=c.selectionEnd=s+1,n.edit.trigger("change"),e.preventDefault(),!0},e}();e.a=i}).call(this,n(54))},1838:function(t,e,n){"use strict";(function(t){var o=n(363),r=function(){function e(){}return e.prototype.execute=function(e,n,r,i){return t.log("ui-textarea","[UITextareaEnterKeyDownCmd] execute",e.keyCode),!!o.j(e)&&(!!n.saveOnEnter&&(n.controller.save(),e.preventDefault(),e.stopPropagation(),void e.stopImmediatePropagation()))},e}();e.a=r}).call(this,n(54))},1839:function(t,e,n){"use strict";(function(t){var o=n(199),r=n(16),i=function(){function e(){}return e.prototype.execute=function(e,n,i,u){if(t.log("ui-textarea","[UITextareaEscapeKeyUpCmd] execute",e.keyCode),r.a.isTouchSupportedAndNotDesktop||e.keyCode!==o.a.ESCAPE)return!1;n.onEsc({$event:e}),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),u.$rollbackViewValue(),n.controller.save()},e}();e.a=i}).call(this,n(54))},863:function(t,e,n){var o=n(980)("toUpperCase");t.exports=o},980:function(t,e,n){var o=n(850),r=n(673),i=n(851),u=n(348);t.exports=function(t){return function(e){e=u(e);var n=r(e)?i(e):void 0,c=n?n[0]:e.charAt(0),a=n?o(n,1).join(""):e.slice(1);return c[t]()+a}}}}]);
//# sourceMappingURL=https://miro.com/app/static/cmn~Not~boa..scr.plu~2e7a7706.9b13d04fb53135135d66.js.map