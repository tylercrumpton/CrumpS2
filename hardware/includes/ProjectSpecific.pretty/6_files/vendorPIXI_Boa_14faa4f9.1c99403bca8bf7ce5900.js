(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{188:function(t,e,i){(function(){var i=i||{};i.CANVAS_RENDERER=1,i.VERSION="v2.2.0",i.blendModes={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},i.scaleModes={DEFAULT:0,LINEAR:0,NEAREST:1},i.hitTypes={BORDER:1,TRANSPARENT_FILL:2,OPAQUE_FILL:3,TEXT:4},i.MAX_SERIAL_DRAW_IMAGE=20,i._drawImageCount=0,i._UID=0,"undefined"!=typeof Float32Array?(i.Float32Array=Float32Array,i.Uint16Array=Uint16Array):(i.Float32Array=Array,i.Uint16Array=Array),i.INTERACTION_FREQUENCY=30,i.AUTO_PREVENT_DEFAULT=!0,i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RETINA_PREFIX="@2x",i.defaultRenderOptions={view:null,transparent:!1,antialias:!1,preserveDrawingBuffer:!1,resolution:1,clearBeforeRender:!0,autoResize:!1},i.LEFT_MOUSE_BUTTON=0,i.MIDDLE_MOUSE_BUTTON=1,i.RIGHT_MOUSE_BUTTON=2,i.LONG_CLICK="long_click",i.LEFT_CLICK="l_click",i.MIDDLE_CLICK="m_click",i.RIGHT_CLICK="r_click",i.ACTUAL_LEFT_MOUSE_DOWN="actual_l_mousedown",i.LEFT_MOUSE_DOWN="l_mousedown",i.MIDDLE_MOUSE_DOWN="m_mousedown",i.RIGHT_MOUSE_DOWN="r_mousedown",i.LEFT_MOUSE_UP="l_mouseup",i.MIDDLE_MOUSE_UP="m_mouseup",i.RIGHT_MOUSE_UP="r_mouseup",i.MOUSE_MOVE="mousemove",i.MOUSE_ENTER="mouseenter",i.MOUSE_LEAVE="mouseleave",i.pointerTypes={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},i.LRM="",i.RLM=String.fromCharCode(8207),i.BaseTextureCache={},i.BaseTextureCacheIdGenerator=0,i.createCanvas=function(t){return document.createElement("canvas")},i.createOffscreenCanvas=function(t,e,i){return new OffscreenCanvas(e,i)},i.pixelRatio=1,i.pixelRatioInv=1,i.offscreenAvailable=!1;try{new OffscreenCanvas(1,1).getContext("2d");i.offscreenAvailable=!0}catch(t){}i.needRender=!0,i.lastChangeTime=0,i.objectChanged=function(t){t&&!t.stage||(i.needRender=!0,i.lastChangeTime=Date.now())},i.Point=function(t,e){this.x=t||0,this.y=e||0},i.Point.fromJson=function(t){return new i.Point(t.x||0,t.y||0)},i.Point.prototype.clone=function(){return new i.Point(this.x,this.y)},i.Point.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},i.Point.prototype.getJson=function(){return{x:this.x,y:this.y}},i.Point.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.Point.prototype.multiply=function(t){return this.x*=t,this.y*=t,this},i.Point.prototype.invert=function(){return this.x=-this.x,this.y=-this.y,this},i.Point.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.Point.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},i.Point.prototype.normalize=function(t){if(this.x||this.y){var e=(t=t||1)/this.length();this.x*=e,this.y*=e}return this},i.Point.prototype.getPerp=function(t){var e=new i.Point(this.y,this.x);return t?e.y=-e.y:e.x=-e.x,e},i.Point.prototype.constructor=i.Point,i.Rectangle=function(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0},i.Rectangle.prototype.clone=function(){return new i.Rectangle(this.x,this.y,this.width,this.height)},i.Rectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},i.Rectangle.prototype.intersects=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},i.Rectangle.prototype.containsRect=function(t){return this.left<=t.left&&this.right>=t.right&&this.top<=t.top&&this.bottom>=t.bottom},i.Rectangle.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},i.Rectangle.createFromRect=function(t){return new i.Rectangle(t.x,t.y,t.width,t.height)},i.Rectangle.prototype.toJson=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},Object.defineProperty(i.Rectangle.prototype,"centerX",{get:function(){return this.x+this.width/2}}),Object.defineProperty(i.Rectangle.prototype,"centerY",{get:function(){return this.y+this.height/2}}),Object.defineProperty(i.Rectangle.prototype,"left",{get:function(){return this.x},set:function(t){this.width+=this.x-t,this.x=t}}),Object.defineProperty(i.Rectangle.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this.width=t-this.x}}),Object.defineProperty(i.Rectangle.prototype,"top",{get:function(){return this.y},set:function(t){this.height+=this.y-t,this.y=t}}),Object.defineProperty(i.Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this.height=t-this.y}}),Object.defineProperty(i.Rectangle.prototype,"leftTop",{get:function(){return new i.Point(this.left,this.top)}}),Object.defineProperty(i.Rectangle.prototype,"rightTop",{get:function(){return new i.Point(this.right,this.top)}}),Object.defineProperty(i.Rectangle.prototype,"leftBottom",{get:function(){return new i.Point(this.left,this.bottom)}}),Object.defineProperty(i.Rectangle.prototype,"rightBottom",{get:function(){return new i.Point(this.right,this.bottom)}}),i.Rectangle.prototype.constructor=i.Rectangle,i.EmptyRectangle=new i.Rectangle(0,0,0,0),i.Polygon=function(t){if(t instanceof Array||(t=Array.prototype.slice.call(arguments)),t[0]instanceof i.Point){for(var e=[],r=0,s=t.length;r<s;r++)e.push(t[r].x,t[r].y);t=e}this.closed=!0,this.points=t},i.Polygon.prototype.clone=function(){var t=this.points.slice();return new i.Polygon(t)},i.Polygon.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,s=0,n=r-1;s<r;n=s++){var h=this.points[2*s],o=this.points[2*s+1],a=this.points[2*n],l=this.points[2*n+1];o>e!==l>e&&t<(a-h)*(e-o)/(l-o)+h&&(i=!i)}return i},i.Polygon.prototype.constructor=i.Polygon,i.Circle=function(t,e,i){this.x=t||0,this.y=e||0,this.radius=i||0},i.Circle.prototype.clone=function(){return new i.Circle(this.x,this.y,this.radius)},i.Circle.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.x-t,r=this.y-e;return(i*=i)+(r*=r)<=this.radius*this.radius},i.Circle.prototype.getBounds=function(){return new i.Rectangle(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},i.Circle.prototype.constructor=i.Circle,i.Ellipse=function(t,e,i,r){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0},i.Ellipse.prototype.clone=function(){return new i.Ellipse(this.x,this.y,this.width,this.height)},i.Ellipse.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},i.Ellipse.prototype.getBounds=function(){return new i.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},i.Ellipse.prototype.constructor=i.Ellipse,i.RoundedRectangle=function(t,e,i,r,s,n,h,o){this.x=t||0,this.y=e||0,this.width=i||0,this.height=r||0,this.radius=void 0==s?20:s,this.radiusTopRight=void 0==n&&this.radius||n,this.radiusBottomRight=void 0==h&&this.radius||h,this.radiusBottomLeft=void 0==o&&this.radius||o},i.RoundedRectangle.prototype.clone=function(){return new i.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius,this.radiusTopRight,this.radiusBottomRight,this.radiusBottomLeft)},i.RoundedRectangle.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(t>=i&&t<=i+this.width){var r=this.y;if(e>=r&&e<=r+this.height)return!0}return!1},i.RoundedRectangle.prototype.constructor=i.RoundedRectangle,i.Matrix=function(t,e,i,r,s,n){this.a=void 0==t?1:t,this.b=e||0,this.c=i||0,this.d=void 0==r?1:r,this.tx=s||0,this.ty=n||0},i.Matrix.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.Matrix.prototype.toArray=function(t){this.array||(this.array=new i.Float32Array(9));var e=this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty,e[8]=1):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0,e[8]=1),e},i.Matrix.prototype.apply=function(t,e){return(e=e||new i.Point).x=this.a*t.x+this.c*t.y+this.tx,e.y=this.b*t.x+this.d*t.y+this.ty,e},i.Matrix.prototype.applyInverse=function(t,e){e=e||new i.Point;var r=1/(this.a*this.d+this.c*-this.b);return e.x=this.d*r*t.x+-this.c*r*t.y+(this.ty*this.c-this.tx*this.d)*r,e.y=this.a*r*t.y+-this.b*r*t.x+(-this.ty*this.a+this.tx*this.b)*r,e},i.Matrix.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},i.Matrix.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},i.Matrix.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,s=this.c,n=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=n*e-this.ty*i,this.ty=n*i+this.ty*e,this},i.Matrix.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,s=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*s,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*s,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*s+this.ty,this},i.Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.identityMatrix=new i.Matrix,i.DisplayObject=function(){this.position=new i.Point,this._scale=new i.Point(1,1),this.pivot=new i.Point(0,0),this._rotation=0,this._alpha=1,this._visible=!0,this.hitArea=null,this.buttonMode=!1,this.renderable=!1,this.parent=null,this.stage=null,this.worldAlpha=1,this._interactive=!1,this.defaultCursor="pointer",this.worldTransform=new i.Matrix,this._sr=0,this._cr=1,this._worldScale=1,this._bounds=new i.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1,this.name="",this.blendMode=i.blendModes.NORMAL,this.dirtyGeom=!0,this.movedBy=void 0,this._autotestId=""},i.DisplayObject.prototype.constructor=i.DisplayObject,Object.defineProperty(i.DisplayObject.prototype,"interactive",{get:function(){return this._interactive},set:function(t){this._interactive=t,this.stage&&(this.stage.dirty=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}}),Object.defineProperty(i.DisplayObject.prototype,"mask",{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.isMask=!0)}}),Object.defineProperty(i.DisplayObject.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}),i.DisplayObject.prototype.updateTransform=function(){var t,e,r,s,n,h,o=this.parent.worldTransform,a=this.worldTransform;this.rotation%i.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),t=this._cr*this.scale.x,e=this._sr*this.scale.x,r=-this._sr*this.scale.y,s=this._cr*this.scale.y,n=this.position.x,h=this.position.y,(this.pivot.x||this.pivot.y)&&(n-=this.pivot.x*t+this.pivot.y*r,h-=this.pivot.x*e+this.pivot.y*s),a.a=t*o.a+e*o.c,a.b=t*o.b+e*o.d,a.c=r*o.a+s*o.c,a.d=r*o.b+s*o.d,a.tx=n*o.a+h*o.c+o.tx,a.ty=n*o.b+h*o.d+o.ty):(t=this.scale.x,s=this.scale.y,n=this.position.x-this.pivot.x*t,h=this.position.y-this.pivot.y*s,a.a=t*o.a,a.b=t*o.b,a.c=s*o.c,a.d=s*o.d,a.tx=n*o.a+h*o.c+o.tx,a.ty=n*o.b+h*o.d+o.ty),this._worldScale=this.parent._worldScale*this.scale.x,this.worldAlpha=this.alpha*this.parent.worldAlpha},i.DisplayObject.prototype.displayObjectUpdateTransform=i.DisplayObject.prototype.updateTransform,i.DisplayObject.prototype.moveFaster=function(t){i.objectChanged(this),this.dirtyGeom||(this.movedBy=new i.Point(t.x*this.parent._worldScale-this.worldTransform.tx,t.y*this.parent._worldScale-this.worldTransform.ty)),this.position=t},i.DisplayObject.prototype.getBounds=function(t){return t=t,i.EmptyRectangle},i.DisplayObject.prototype.getLocalBounds=function(){return this.getBounds(i.identityMatrix)},i.DisplayObject.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0)},i.DisplayObject.prototype.generateTexture=function(t,e,r){var s=this.getLocalBounds(),n=new i.RenderTexture("display_object_gen_texture",0|s.width,0|s.height,!1,r,e,t);return i.DisplayObject._tempMatrix.identity(),i.DisplayObject._tempMatrix.tx=-s.x,i.DisplayObject._tempMatrix.ty=-s.y,n.render(this,i.DisplayObject._tempMatrix),n},i.DisplayObject.prototype.updateCache=function(){this._generateCachedSprite()},i.DisplayObject.prototype.toGlobal=function(t){return this.displayObjectUpdateTransform(),(t=this.worldTransform.apply(t)).x/=i.pixelRatio,t.y/=i.pixelRatio,t},i.DisplayObject.prototype.toLocal=function(t,e){return e&&(t=e.toGlobal(t)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(t)},i.DisplayObject.prototype._renderCachedSprite=function(t){this._cachedSprite.worldAlpha=this.worldAlpha;var e=i.pixelRatio,r=this.worldTransform,s=this._cachedSprite.worldTransform;s.a=r.a/e,s.b=r.b/e,s.c=r.c/e,s.d=r.d/e,s.tx=r.tx,s.ty=r.ty,i.Sprite.prototype._renderContent.call(this._cachedSprite,t)},i.DisplayObject.prototype._generateCachedSprite=function(){this._cacheAsBitmap=!1;var t=this.getLocalBounds(),e=i.pixelRatio,r=t.width*e|0,s=t.height*e|0;if(this._cachedSprite)this._cachedSprite.texture.resize(r,s);else{var n=new i.RenderTexture("display_object_gen_cached_sprite",r,s);this._cachedSprite=new i.Sprite(n)}i.DisplayObject._tempMatrix.identity(),i.DisplayObject._tempMatrix.translate(-t.x,-t.y),i.DisplayObject._tempMatrix.scale(e,e),this._cachedSprite.texture.render(this,i.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._cacheAsBitmap=!0},i.DisplayObject.prototype._destroyCachedSprite=function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},i.DisplayObject.prototype._renderCanvas=function(t){},i.DisplayObject.prototype._renderContent=function(t){},i.DisplayObject.prototype.setMask=function(t,e){i.objectChanged(this),this.dirtyGeom=!0,this._mask&&i.CanvasMaskManager.setMaskFlag(this._mask.all,void 0),this._mask=null;var r=t&&t.length,s=e&&e.length;(r||s)&&(this._mask={all:[]},r&&(this._mask.all=this._mask.all.concat(t),this._mask.include=t),s&&(this._mask.all=this._mask.all.concat(e),this._mask.exclude=e),i.CanvasMaskManager.setMaskFlag(this._mask.all,this))},i.DisplayObject._tempMatrix=new i.Matrix,i.DisplayObject.prototype.initEventDispatcher=function(){i.EventTarget.call(this),this.interactive=!0,this.isEventTarget=!0},i.DisplayObject.prototype.setPivot=function(t,e){i.objectChanged(this),this.pivot.x=t,this.pivot.y=e,this.dirtyGeom=!0},Object.defineProperty(i.DisplayObject.prototype,"scale",{get:function(){return this._scale},set:function(t){i.objectChanged(this),t.hasOwnProperty("x")?(this._scale.x=t.x,this._scale.y=t.y):this._scale.x=this._scale.y=t,this.dirtyGeom=!0}}),Object.defineProperty(i.DisplayObject.prototype,"rotation",{get:function(){return this._rotation},set:function(t){i.objectChanged(this),this._rotation=t,this.dirtyGeom=!0}}),Object.defineProperty(i.DisplayObject.prototype,"alpha",{get:function(){return this._alpha},set:function(t){i.objectChanged(this),this._alpha=t,this.dirtyGeom=!0}}),Object.defineProperty(i.DisplayObject.prototype,"visible",{get:function(){return this._visible},set:function(t){if(t!=this._visible){if(this.parent){var e=this.parent.children.indexOf(this);this.parent._visibleChildren[e]=t?this:void 0}this.dirtyGeom=!0,i.objectChanged(this),this._visible=t}}}),Object.defineProperty(i.DisplayObject.prototype,"x",{get:function(){return this.position.x},set:function(t){i.objectChanged(this),this.position.x=t,this.dirtyGeom=!0}}),Object.defineProperty(i.DisplayObject.prototype,"y",{get:function(){return this.position.y},set:function(t){i.objectChanged(this),this.position.y=t,this.dirtyGeom=!0}}),i.DisplayObjectContainer=function(){i.DisplayObject.call(this),this.children=[],this._visibleChildren=[],this.ownContentVisible=!0},i.DisplayObjectContainer.prototype=Object.create(i.DisplayObject.prototype),i.DisplayObjectContainer.prototype.constructor=i.DisplayObjectContainer,Object.defineProperty(i.DisplayObjectContainer.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}}),Object.defineProperty(i.DisplayObjectContainer.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}),i.DisplayObjectContainer.prototype.addChild=function(t){-1===this.children.indexOf(t)&&this.addChildAt(t,this.children.length)},i.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(e>=0&&e<=this.children.length)return i.objectChanged(this),t.parent&&t.parent.removeChild(t),t.parent=this,t.dirtyGeom=!0,this._visibleChildren.splice(e,0,t._visible?t:void 0),this.children.splice(e,0,t),this.stage&&t.setStageReference(this.stage),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},i.DisplayObjectContainer.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);return void 0===e?-1:e},i.DisplayObjectContainer.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[t]},i.DisplayObjectContainer.prototype.removeChild=function(t){var e=this.getChildIndex(t);if(-1!==e)return this.removeChildAt(e)},i.DisplayObjectContainer.prototype.removeChildAt=function(t){i.objectChanged(this);var e=this.getChildAt(t);return this.stage&&e.removeStageReference(),e.parent=void 0,this._visibleChildren.splice(t,1),this.children.splice(t,1),e},i.DisplayObjectContainer.prototype.removeChildren=function(t,e){var r=t||0,s="number"===typeof e?e:this.children.length,n=s-r;if(n>0&&n<=s){i.objectChanged(this),this._visibleChildren.splice(r,n);for(var h=this.children.splice(r,n),o=0;o<h.length;o++){var a=h[o];this.stage&&a.removeStageReference(),a.parent=void 0}return h}if(0===n&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},i.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),this._mask&&i.CanvasMaskManager.updateMaskTransform(this),!this._cacheAsBitmap))for(var t=0,e=this._visibleChildren.length;t<e;t++){var r=this._visibleChildren[t];r&&r.updateTransform()}},i.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=i.DisplayObjectContainer.prototype.updateTransform,i.DisplayObjectContainer.prototype.findObject=function(t){for(var e=0,i=this._visibleChildren.length;e<i;e++){var r=this._visibleChildren[e];if(r){if(t(r))return r;var s=r.findObject(t);if(s)return s}}},i.DisplayObjectContainer.prototype.displayObjectContainerFindObject=i.DisplayObjectContainer.prototype.findObject,i.DisplayObjectContainer.prototype.getBounds=function(){if(0===this.children.length)return i.EmptyRectangle;for(var t,e,r,s=1/0,n=1/0,h=-1/0,o=-1/0,a=!1,l=0,c=this.children.length;l<c;l++){this.children[l].visible&&(a=!0,s=s<(t=this.children[l].getBounds()).x?s:t.x,n=n<t.y?n:t.y,h=h>(e=t.width+t.x)?h:e,o=o>(r=t.height+t.y)?o:r)}if(!a)return i.EmptyRectangle;var d=this._bounds;return d.x=s,d.y=n,d.width=h-s,d.height=o-n,d},i.DisplayObjectContainer.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=i.identityMatrix;for(var e=0,r=this.children.length;e<r;e++)this.children[e].updateTransform();var s=this.getBounds();return this.worldTransform=t,this.dirtyGeom=!0,s},i.DisplayObjectContainer.prototype.setStageReference=function(t){this.stage=t,this._interactive&&(this.stage.dirty=!0);for(var e=0,i=this.children.length;e<i;e++){this.children[e].setStageReference(t)}},i.DisplayObjectContainer.prototype.removeStageReference=function(){for(var t=0,e=this.children.length;t<e;t++){this.children[t].removeStageReference()}this._interactive&&(this.stage.dirty=!0),this.stage=null},i.DisplayObjectContainer.prototype._renderCanvas=function(t,e,r){if(e=e||this.dirtyGeom,r=r||this.movedBy,this.movedBy=void 0,this.dirtyGeom=!1,e?this.displayObjectUpdateTransform():r&&(this.worldTransform.tx+=r.x,this.worldTransform.ty+=r.y),this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),void this._renderCachedSprite(t);this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=i.blendModesCanvas[t.currentBlendMode]),this._mask&&(e?i.CanvasMaskManager.updateMaskTransform(this):r&&i.CanvasMaskManager.appendDisplacement(this,r.x,r.y),t.maskManager.pushMask(this._mask,t)),this.ownContentVisible&&this._renderContent(t);for(var s=0,n=this._visibleChildren.length;s<n;s++){var h=this._visibleChildren[s];h&&h._renderCanvas(t,e,r)}this._mask&&t.maskManager.popMask(t)},i.Sprite=function(t){i.DisplayObjectContainer.call(this),this.anchor=new i.Point,this.texture=i.Texture.emptyTexture,this._width=0,this._height=0,this.onTextureUpdateWrapper=this.onTextureUpdate.bind(this),t&&this.setTexture(t),this.renderable=!0,this.roundPixels=!1},i.Sprite.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Sprite.prototype.constructor=i.Sprite,Object.defineProperty(i.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){i.objectChanged(this),this.scale.x=t/this.texture.frame.width,this._width=t,this.dirtyGeom=!0}}),Object.defineProperty(i.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){i.objectChanged(this),this.scale.y=t/this.texture.frame.height,this._height=t,this.dirtyGeom=!0}}),i.Sprite.prototype.setAnchor=function(t,e){i.objectChanged(this),this.anchor.x=t,this.anchor.y=e},i.Sprite.prototype.setTexture=function(t){i.objectChanged(this),this.texture=t,this.texture.baseTexture.hasLoaded?this.onTextureUpdate():this.texture!==i.Texture.emptyTexture&&this.texture.addEventListener("update",this.onTextureUpdateWrapper)},i.Sprite.prototype.onTextureUpdate=function(){this.texture.removeEventListener("update",this.onTextureUpdateWrapper),i.objectChanged(this),this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height),this.dirtyGeom=!0},i.Sprite.prototype.getBounds=function(t){var e=this.texture.frame.width,i=this.texture.frame.height,r=e*(1-this.anchor.x),s=e*-this.anchor.x,n=i*(1-this.anchor.y),h=i*-this.anchor.y,o=t||this.worldTransform,a=o.a,l=o.b,c=o.c,d=o.d,p=o.tx,u=o.ty,f=-1/0,y=-1/0,g=1/0,x=1/0;if(0===l&&0===c)a<0&&(a*=-1),d<0&&(d*=-1),g=a*s+p,f=a*r+p,x=d*h+u,y=d*n+u;else{var v=a*s+c*h+p,b=d*h+l*s+u,m=a*r+c*h+p,T=d*h+l*r+u,C=a*r+c*n+p,w=d*n+l*r+u,_=a*s+c*n+p,M=d*n+l*s+u;g=_<(g=C<(g=m<(g=v<g?v:g)?m:g)?C:g)?_:g,x=M<(x=w<(x=T<(x=b<x?b:x)?T:x)?w:x)?M:x,f=_>(f=C>(f=m>(f=v>f?v:f)?m:f)?C:f)?_:f,y=M>(y=w>(y=T>(y=b>y?b:y)?T:y)?w:y)?M:y}var S=this._bounds;return S.x=g,S.width=f-g,S.y=x,S.height=y-x,this._currentBounds=S,S},i.Sprite.prototype._renderContent=function(t){if(this.texture.valid){t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.scaleMode!==this.texture.baseTexture.scaleMode&&(t.scaleMode=this.texture.baseTexture.scaleMode,t.context[t.smoothProperty]=t.scaleMode===i.scaleModes.LINEAR);var e=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,r=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height,s=this.worldTransform.tx,n=this.worldTransform.ty;(t.roundPixels||this.roundPixels)&&(s|=0,n|=0,e|=0,r|=0),t.context.setTransform(this.worldTransform.a,this.worldTransform.b,this.worldTransform.c,this.worldTransform.d,s,n);var h=this.texture.crop;t.context.drawImage(this.texture.baseTexture.source,h.x,h.y,h.width,h.height,e,r,h.width,h.height),i._drawImageCount++,i._drawImageCount>=i.MAX_SERIAL_DRAW_IMAGE&&(i._drawImageCount=0,t.context.fillRect(0,0,.01,.01))}},i.Sprite.fromFrame=function(t){var e=i.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache'+this);return new i.Sprite(e)},i.Sprite.fromImage=function(t,e,r){var s=i.Texture.fromImage(t,e,r);return new i.Sprite(s)},i.Text=function(t,e,r){this.canvas=i.createCanvas(t),this.context=this.canvas.getContext("2d"),this.resolution=1,i.Sprite.call(this,i.Texture.fromCanvas(this.canvas)),this.setText(e),this.setStyle(r)},i.Text.prototype=Object.create(i.Sprite.prototype),i.Text.prototype.constructor=i.Text,Object.defineProperty(i.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(t){i.objectChanged(this),this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(i.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(t){i.objectChanged(this),this.scale.y=t/this.texture.frame.height,this._height=t}}),i.Text.prototype.setStyle=function(t){i.objectChanged(this),(t=t||{}).font=t.font||"bold 20pt Arial",t.fill=t.fill||"black",t.align=t.align||"left",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.dropShadow=t.dropShadow||!1,t.dropShadowAngle=t.dropShadowAngle||Math.PI/6,t.dropShadowDistance=t.dropShadowDistance||4,t.dropShadowColor=t.dropShadowColor||"black",this.style=t,this.dirty=!0},i.Text.prototype.setText=function(t){i.objectChanged(this),this.text=t.toString()||" ",this.dirty=!0},i.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this.resolution,this.context.font=this.style.font;var t=this.text;this.style.wordWrap&&(t=this.wordWrap(this.text));for(var e=t.split(/(?:\r\n|\r|\n)/),i=[],r=0,s=this.determineFontProperties(this.style.font),n=0;n<e.length;n++){var h=this.context.measureText(e[n]).width;i[n]=h,r=Math.max(r,h)}var o=r+this.style.strokeThickness;this.style.dropShadow&&(o+=this.style.dropShadowDistance),this.canvas.width=(o+this.context.lineWidth)*this.resolution;var a,l,c=s.fontSize+this.style.strokeThickness,d=c*e.length;if(this.style.dropShadow&&(d+=this.style.dropShadowDistance),this.canvas.height=d*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.lineWidth=this.style.strokeThickness,this.context.textBaseline="alphabetic",this.style.dropShadow){this.context.fillStyle=this.style.dropShadowColor;var p=Math.sin(this.style.dropShadowAngle)*this.style.dropShadowDistance,u=Math.cos(this.style.dropShadowAngle)*this.style.dropShadowDistance;for(n=0;n<e.length;n++)a=this.style.strokeThickness/2,l=this.style.strokeThickness/2+n*c+s.ascent,"right"===this.style.align?a+=r-i[n]:"center"===this.style.align&&(a+=(r-i[n])/2),this.style.fill&&this.context.fillText(e[n],a+p,l+u)}for(this.context.fillStyle=this.style.fill,n=0;n<e.length;n++)a=this.style.strokeThickness/2,l=this.style.strokeThickness/2+n*c+s.ascent,"right"===this.style.align?a+=r-i[n]:"center"===this.style.align&&(a+=(r-i[n])/2),this.style.stroke&&this.style.strokeThickness&&this.context.strokeText(e[n],a,l),this.style.fill&&this.context.fillText(e[n],a,l);this.updateTexture()},i.Text.prototype.updateTexture=function(){this.texture.baseTexture.width=this.canvas.width,this.texture.baseTexture.height=this.canvas.height,this.texture.crop.width=this.texture.frame.width=this.canvas.width,this.texture.crop.height=this.texture.frame.height=this.canvas.height,this._width=this.canvas.width,this._height=this.canvas.height},i.Text.prototype._renderContent=function(t){this.dirty&&(this.resolution=t.resolution,this.updateText(),this.dirty=!1),i.Sprite.prototype._renderContent.call(this,t)},i.Text.prototype.determineFontProperties=function(t){var e=i.Text.fontPropertiesCache[t];if(!e){e={};var r=i.Text.fontPropertiesCanvas,s=i.Text.fontPropertiesContext;s.font=t;var n=Math.ceil(s.measureText("|Mq").width),h=Math.ceil(s.measureText("M").width),o=2*h;h=1.4*h|0,r.width=n,r.height=o,s.fillStyle="#f00",s.fillRect(0,0,n,o),s.font=t,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText("|M\xc9q",0,h);var a,l,c=s.getImageData(0,0,n,o).data,d=c.length,p=4*n,u=0,f=!1;for(a=0;a<h;a++){for(l=0;l<p;l+=4)if(255!==c[u+l]){f=!0;break}if(f)break;u+=p}for(e.ascent=h-a,u=d-p,f=!1,a=o;a>h;a--){for(l=0;l<p;l+=4)if(255!==c[u+l]){f=!0;break}if(f)break;u-=p}e.descent=a-h,e.descent+=6,e.fontSize=e.ascent+e.descent,i.Text.fontPropertiesCache[t]=e}return e},i.Text.prototype.wordWrap=function(t){for(var e="",i=t.split("\n"),r=0;r<i.length;r++){for(var s=this.style.wordWrapWidth,n=i[r].split(" "),h=0;h<n.length;h++){var o=this.context.measureText(n[h]).width,a=o+this.context.measureText(" ").width;0===h||a>s?(h>0&&(e+="\n"),e+=n[h],s=this.style.wordWrapWidth-o):(s-=a,e+=" "+n[h])}r<i.length-1&&(e+="\n")}return e},i.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),i.Sprite.prototype.getBounds.call(this,t)},i.Text.prototype.destroy=function(t){this.context=null,this.canvas=null,this.texture.destroy(void 0===t||t)},i.Text.fontPropertiesCache={},i.Text.fontPropertiesCanvas=document.createElement("canvas"),i.Text.fontPropertiesContext=i.Text.fontPropertiesCanvas.getContext("2d"),i.InteractionData=function(){this.global=new i.Point,this.target=null,this.originalEvent=null},i.InteractionData.prototype.constructor=i.InteractionData,i.InteractionManager=function(t){this.stage=t,this.mouse=new i.InteractionData,this.touches={},this.tempPoint=new i.Point,this.mouseoverEnabled=!0,this.pool=[],this.interactiveItems=[],this.interactionDOMElement=null,this.last=0,this.currentCursorStyle="inherit",this.mouseOut=!1,this.resolution=1,this._tempPoint=new i.Point},i.InteractionManager.prototype.constructor=i.InteractionManager,i.InteractionManager.prototype.collectInteractiveSprite=function(t,e){for(var i=t.children,r=0,s=i.length;r<s;r++){var n=i[r];n._interactive?(e.interactiveChildren=!0,n.__iParent=e,this.interactiveItems.push(n),n.children.length>0&&this.collectInteractiveSprite(n,n)):(n.__iParent=null,n.children.length>0&&this.collectInteractiveSprite(n,e))}},i.InteractionManager.prototype.setTarget=function(t){this.target=t,this.resolution=t.resolution,null===this.interactionDOMElement&&this.setTargetDomElement(t.view)},i.InteractionManager.prototype.setTargetDomElement=function(t){window.navigator.msPointerEnabled&&(t.style["-ms-content-zooming"]="none",t.style["-ms-touch-action"]="none"),this.interactionDOMElement=t},i.InteractionManager.prototype.rebuildInteractiveGraph=function(){this.dirty=!1;for(var t=this.interactiveItems.length,e=0;e<t;e++)this.interactiveItems[e].interactiveChildren=!1;this.interactiveItems=[],this.stage.interactive&&this.interactiveItems.push(this.stage),this.collectInteractiveSprite(this.stage,this.stage)},i.InteractionManager.prototype.hitTest=function(t,e){var r=e.global;if(!t.worldVisible)return!1;t.worldTransform.applyInverse(r,this._tempPoint);var s,n=this._tempPoint.x,h=this._tempPoint.y;if(e.target=t,t.hitArea&&t.hitArea.hitTest)return t.hitArea.hitTest(n,h,e);if(t.hitArea&&t.hitArea.contains)return!!t.hitArea.contains(n,h,e)&&{};if(t instanceof i.Sprite){var o,a=t.texture.frame.width,l=t.texture.frame.height,c=-a*t.anchor.x;if(n>c&&n<c+a&&h>(o=-l*t.anchor.y)&&h<o+l)return{}}var d=t.children.length;for(s=0;s<d;s++){var p=t.children[s],u=this.hitTest(p,e);if(u)return e.target=t,u}return!1},i.InteractionManager.prototype.onMouseEvent=function(t,e,r,s,n,h){i.needRender&&this.stage.updateTransform(),this.dirty&&this.rebuildInteractiveGraph();var o={global:{x:e*i.pixelRatio,y:r*i.pixelRatio},original:{x:e,y:r},touchMode:s,pointerType:n,params:h,eventType:t},a=this.getHitTestedItems(o);a.length&&this.bubbleEvent(a,t,o)},i.InteractionManager.prototype.mouseOveredItems=[],i.InteractionManager.prototype.raiseMouseOverEvents=function(t,e){i.needRender&&this.stage.updateTransform(),this.dirty&&this.rebuildInteractiveGraph();for(var r={global:{x:t*=i.pixelRatio,y:e*=i.pixelRatio},touchMode:!1,pointerType:i.pointerTypes.MOUSE,params:null,eventType:i.MOUSE_MOVE},s=this.getHitTestedItems(r),n=[],h=null,o=0,a=s.length;o<a;o++){var l=s[o];h||(h=l.cursor);var c=this.mouseOveredItems.indexOf(l);c>-1?this.mouseOveredItems[c]=null:n.push(l)}this.bubbleEvent(this.mouseOveredItems,i.MOUSE_LEAVE,r),this.bubbleEvent(n,i.MOUSE_ENTER,r),this.currentCursorStyle=h,this.mouseOveredItems=s},i.InteractionManager.prototype.getHitTestedItems=function(t){for(var e=[],i=this.interactiveItems.length-1;i>=0;i--){var r=this.interactiveItems[i];if(this.hitTest(r,t)){for(;r;)e.push(r),r=r.__iParent;break}}return e},i.InteractionManager.prototype.bubbleEvent=function(t,e,r){var s=t&&t.length;if(s){r.type=e;for(var n=0;n<s;n++){var h=t[n];if(h&&h.isEventTarget){var o=new i.Event(h,e,r);if(h.dispatchEvent(o),o.stopped||o.stoppedImmediate)break}}}},i.InteractionManager.prototype.forEachObjectAt=function(t,e,i){this.forEachObjectAtWithOptions(t,e,{},i)},i.InteractionManager.prototype.forEachObjectAtWithOptions=function(t,e,r,s){i.needRender&&this.stage.updateTransform(),this.dirty&&this.rebuildInteractiveGraph();var n=r||{};n.global={x:t*i.pixelRatio,y:e*i.pixelRatio};for(var h=this.interactiveItems.length-1;h>=0;h--){var o=this.interactiveItems[h];if(o.canHitTest){var a=this.hitTest(o,n);if(a&&s(o,a))break}}},i.Stage=function(t){i.DisplayObjectContainer.call(this),this.worldTransform=new i.Matrix,this.interactive=!0,this.interactionManager=new i.InteractionManager(this),this.dirty=!0,this.stage=this,this.stage.hitArea=new i.Rectangle(0,0,1e5,1e5),this.setBackgroundColor(t)},i.Stage.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Stage.prototype.constructor=i.Stage,i.Stage.prototype.applyPixelRatio=function(){this.worldTransform.a=this.worldTransform.d=i.pixelRatio},i.Stage.prototype.updateTransform=function(){this.dirtyGeom=!1},i.Stage.prototype.findObject=function(t){return i.needRender&&this.stage.updateTransform(),this.dirty&&this.rebuildInteractiveGraph(),this.displayObjectContainerFindObject(t)},i.Stage.prototype._renderCanvas=function(t){this.worldAlpha=1,this._worldScale=i.pixelRatio,this.dirty&&(this.dirty=!1,this.interactionManager.dirty=!0);for(var e=0,r=this._visibleChildren.length;e<r;e++){var s=this._visibleChildren[e];s&&s._renderCanvas(t,!1,void 0)}},i.Stage.prototype.setBackgroundColor=function(t){this.backgroundColor=t||0,this.backgroundColorSplit=i.hex2rgb(this.backgroundColor);var e=this.backgroundColor.toString(16);e="000000".substr(0,6-e.length)+e,this.backgroundColorString="#"+e},i.Stage.prototype.getMousePosition=function(){return this.interactionManager.mouse.global},i.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},i.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},"function"!==typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e=this,i=arguments.length-1,r=[];if(i>0)for(r.length=i;i--;)r[i]=arguments[i+1];if("function"!==typeof e)throw new TypeError;function s(){for(var i=arguments.length,n=new Array(i);i--;)n[i]=arguments[i];return n=r.concat(n),e.apply(this instanceof s?this:t,n)}return s.prototype=function t(e){if(e&&(t.prototype=e),!(this instanceof t))return new t}(e.prototype),s}),i.canUseNewCanvasBlendModes=function(){if("undefined"===typeof document)return!1;var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return e.fillStyle="#000",e.fillRect(0,0,1,1),e.globalCompositeOperation="multiply",e.fillStyle="#fff",e.fillRect(0,0,1,1),0===e.getImageData(0,0,1,1).data[0]},i.EventTarget={call:function(t){t&&(t=t.prototype||t,i.EventTarget.mixin(t))},mixin:function(t){t.listenremoveEventListener=function(t){return this._listeners=this._listeners||{},this._listeners[t]?this._listeners[t].slice():[]},t.emit=t.dispatchEvent=function(t,e){if(this._listeners=this._listeners||{},"object"===typeof t&&(e=t,t=t.type),e&&!0===e.__isEventObject||(e=new i.Event(this,t,e)),this._listeners&&this._listeners[t]){var r,s=this._listeners[t].slice(0),n=s.length,h=s[0];for(r=0;r<n;h=s[++r])if(h.call(this,e),e.stoppedImmediate)return this;if(e.stopped)return this}return this},t.addEventListener=function(t,e){return this._listeners=this._listeners||{},(this._listeners[t]=this._listeners[t]||[]).push(e),this},t.removeEventListener=function(t,e){if(this._listeners=this._listeners||{},!this._listeners[t])return this;for(var i=this._listeners[t],r=e?i.length:0;r-- >0;)i[r]!==e&&i[r]._originalHandler!==e||i.splice(r,1);return 0===i.length&&delete this._listeners[t],this},t.removeAllListeners=function(t){return this._listeners=this._listeners||{},this._listeners[t]?(delete this._listeners[t],this):this}}},i.Event=function(t,e,i){this.__isEventObject=!0,this.stopped=!1,this.stoppedImmediate=!1,this.target=t,this.type=e,this.data=i,this.content=i,this.timeStamp=Date.now()},i.Event.prototype.stopPropagation=function(){this.stopped=!0},i.Event.prototype.stopImmediatePropagation=function(){this.stoppedImmediate=!0},i.CanvasBuffer=function(t,e,r,s){this.width=e,this.height=r,this.canvas=i.offscreenAvailable&&s?i.createOffscreenCanvas(t,e,r):i.createCanvas(t),this.context=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=r},i.CanvasBuffer.prototype.constructor=i.CanvasBuffer,i.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},i.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},i.CanvasMaskManager=function(){},i.CanvasMaskManager.prototype.constructor=i.CanvasMaskManager,i.CanvasMaskManager.prototype.pushMask=function(t,e){var r=e.context;r.save(),t.include&&(r.beginPath(),t.include.forEach((function(t){i.CanvasMaskManager.renderMaskToContext(t,r)})),r.clip()),t.exclude&&t.exclude.forEach((function(t){r.beginPath(),r.setTransform(1,0,0,1,0,0),r.rect(0,0,2e4,2e4),i.CanvasMaskManager.renderMaskToContext(t,r),r.clip("evenodd")}))},i.CanvasMaskManager.prototype.popMask=function(t){t.context.restore()},i.CanvasMaskManager.updateMaskTransform=function(t){for(var e=t._mask.all,i=0,r=e.length;i<r;i++)e[i].displayObjectUpdateTransform()},i.CanvasMaskManager.appendDisplacement=function(t,e,i){for(var r=t._mask.all,s=r.length,n=0;n<s;n++){var h=r[n].worldTransform;h.tx+=e,h.ty+=i}},i.CanvasMaskManager.setMaskFlag=function(t,e){t.forEach((function(t){t.isMask=!!e,t.parent=e}))},i.CanvasMaskManager.renderMaskToContext=function(t,e){var r=t.worldTransform;e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i.CanvasGraphics.renderGraphicsMask(t,e)},i.CanvasRenderer=function(t,e,r){if(r)for(var s in i.defaultRenderOptions)"undefined"===typeof r[s]&&(r[s]=i.defaultRenderOptions[s]);else r=i.defaultRenderOptions;i.defaultRenderer||(i.defaultRenderer=this),this.type=i.CANVAS_RENDERER,this.resolution=r.resolution,this.clearBeforeRender=r.clearBeforeRender,this.transparent=r.transparent,this.autoResize=r.autoResize||!1,this.width=t||800,this.height=e||600,this.width*=this.resolution,this.height*=this.resolution,this.view=r.view||document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.view.width=this.width*this.resolution,this.view.height=this.height*this.resolution,this.count=0,this.maskManager=new i.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:null,roundPixels:!1},this.mapBlendModes(),this.resize(t,e),"imageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="imageSmoothingEnabled":"webkitImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="webkitImageSmoothingEnabled":"mozImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="mozImageSmoothingEnabled":"oImageSmoothingEnabled"in this.context?this.renderSession.smoothProperty="oImageSmoothingEnabled":"msImageSmoothingEnabled"in this.context&&(this.renderSession.smoothProperty="msImageSmoothingEnabled")},i.CanvasRenderer.prototype.constructor=i.CanvasRenderer,i.CanvasRenderer.prototype.render=function(t){i.needRender&&(i.needRender=!1,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=i.blendModes.NORMAL,this.context.globalCompositeOperation=i.blendModesCanvas[i.blendModes.NORMAL],this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=t.backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t),t.interactive&&(t._interactiveEventsAdded||(t._interactiveEventsAdded=!0,t.interactionManager.setTarget(this))))},i.CanvasRenderer.prototype.destroy=function(t){"undefined"===typeof t&&(t=!0),t&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},i.CanvasRenderer.prototype.resize=function(t,e){this.view.style.width=t+"px",this.view.style.height=e+"px",this.width=t*i.pixelRatio,this.height=e*i.pixelRatio,this.view.width=this.width,this.view.height=this.height},i.CanvasRenderer.prototype.renderDisplayObject=function(t,e){this.renderSession.context=e||this.context,this.renderSession.resolution=this.resolution,t._renderCanvas(this.renderSession,!1,void 0)},i.CanvasRenderer.prototype.mapBlendModes=function(){i.blendModesCanvas||(i.blendModesCanvas=[],i.canUseNewCanvasBlendModes()?(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="multiply",i.blendModesCanvas[i.blendModes.SCREEN]="screen",i.blendModesCanvas[i.blendModes.OVERLAY]="overlay",i.blendModesCanvas[i.blendModes.DARKEN]="darken",i.blendModesCanvas[i.blendModes.LIGHTEN]="lighten",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="color-dodge",i.blendModesCanvas[i.blendModes.COLOR_BURN]="color-burn",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="hard-light",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="soft-light",i.blendModesCanvas[i.blendModes.DIFFERENCE]="difference",i.blendModesCanvas[i.blendModes.EXCLUSION]="exclusion",i.blendModesCanvas[i.blendModes.HUE]="hue",i.blendModesCanvas[i.blendModes.SATURATION]="saturation",i.blendModesCanvas[i.blendModes.COLOR]="color",i.blendModesCanvas[i.blendModes.LUMINOSITY]="luminosity"):(i.blendModesCanvas[i.blendModes.NORMAL]="source-over",i.blendModesCanvas[i.blendModes.ADD]="lighter",i.blendModesCanvas[i.blendModes.MULTIPLY]="source-over",i.blendModesCanvas[i.blendModes.SCREEN]="source-over",i.blendModesCanvas[i.blendModes.OVERLAY]="source-over",i.blendModesCanvas[i.blendModes.DARKEN]="source-over",i.blendModesCanvas[i.blendModes.LIGHTEN]="source-over",i.blendModesCanvas[i.blendModes.COLOR_DODGE]="source-over",i.blendModesCanvas[i.blendModes.COLOR_BURN]="source-over",i.blendModesCanvas[i.blendModes.HARD_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.SOFT_LIGHT]="source-over",i.blendModesCanvas[i.blendModes.DIFFERENCE]="source-over",i.blendModesCanvas[i.blendModes.EXCLUSION]="source-over",i.blendModesCanvas[i.blendModes.HUE]="source-over",i.blendModesCanvas[i.blendModes.SATURATION]="source-over",i.blendModesCanvas[i.blendModes.COLOR]="source-over",i.blendModesCanvas[i.blendModes.LUMINOSITY]="source-over"))},i.CanvasGraphics=function(){},i.CanvasGraphics.renderGraphics=function(t,e){for(var r=t.worldAlpha,s=0;s<t.graphicsData.length;s++){var n=t.graphicsData[s],h=n.shape,o=n._fillColorStr,a=n._lineColorStr,l=1,c=n.lineWidth;if(n.lineWidth){var d=n.lineWidth*t._worldScale,p=n.lineDash||[],u=n.lineCap,f=0;if(t.preserveLineWidth&&d<1&&(l=.3+.7*d,c=1/t._worldScale),p.length)if(d<.3)l/=2,p=[];else if(d<=1&&"butt"!=u){var y=n.lineWidth;f=y/2,u="butt",p=p.map((function(t){return t-(y=-y)}))}e.lineDashOffset=f,e.setLineDash?e.setLineDash(p):e.lineDash=p,e.setLineCap?e.setLineCap(u):e.lineCap=u,e.setLineJoin?e.setLineJoin(n.lineJoin):e.lineJoin=n.lineJoin}if(e.lineWidth=c,n.type===i.Graphics.POLY){e.beginPath();var g=h.points;e.moveTo(g[0],g[1]);for(var x=1;x<g.length/2;x++)e.lineTo(g[2*x],g[2*x+1]);h.closed&&e.lineTo(g[0],g[1]),g[0]===g[g.length-2]&&g[1]===g[g.length-1]&&e.closePath(),n.fill&&(e.globalAlpha=n.fillAlpha*r,e.fillStyle=o,e.fill()),n.lineWidth&&(e.globalAlpha=n.lineAlpha*r*l,e.strokeStyle=a,e.stroke())}else if(n.type===i.Graphics.RECT)(n.fillColor||0===n.fillColor)&&(e.globalAlpha=n.fillAlpha*r,e.fillStyle=o,e.fillRect(h.x,h.y,h.width,h.height)),n.lineWidth&&(e.globalAlpha=n.lineAlpha*r*l,e.strokeStyle=a,e.strokeRect(h.x,h.y,h.width,h.height));else if(n.type===i.Graphics.CIRC)e.beginPath(),e.arc(h.x,h.y,h.radius,0,2*Math.PI),e.closePath(),n.fill&&(e.globalAlpha=n.fillAlpha*r,e.fillStyle=o,e.fill()),n.lineWidth&&(e.globalAlpha=n.lineAlpha*r*l,e.strokeStyle=a,e.stroke());else if(n.type===i.Graphics.ELIP){var v=2*h.width,b=2*h.height,m=h.x-v/2,T=h.y-b/2;e.beginPath();var C=.5522848,w=v/2*C,_=b/2*C,M=m+v,S=T+b,O=m+v/2,R=T+b/2;e.moveTo(m,R),e.bezierCurveTo(m,R-_,O-w,T,O,T),e.bezierCurveTo(O+w,T,M,R-_,M,R),e.bezierCurveTo(M,R+_,O+w,S,O,S),e.bezierCurveTo(O-w,S,m,R+_,m,R),e.closePath(),n.fill&&(e.globalAlpha=n.fillAlpha*r,e.fillStyle=o,e.fill()),n.lineWidth&&(e.globalAlpha=n.lineAlpha*r*l,e.strokeStyle=a,e.stroke())}else if(n.type===i.Graphics.RREC){var E=h.x,P=h.y,I=h.width,D=h.height,j=h.radius,A=h.radiusTopRight,L=h.radiusBottomRight,k=h.radiusBottomLeft,B=Math.min(I,D)/2|0;j=j>B&&B||j,A=A>B&&B||A,L=L>B&&B||L,k=k>B&&B||k,e.beginPath(),e.moveTo(E+I-A,P),e.arcTo(E+I,P,E+I,P+A,A),e.lineTo(E+I,P+D-L),e.arcTo(E+I,P+D,E+I-L,P+D,L),e.lineTo(E+k,P+D),e.arcTo(E,P+D,E,P+D-k,k),e.lineTo(E,P+j),e.arcTo(E,P,E+j,P,j),e.closePath(),(n.fillColor||0===n.fillColor)&&(e.globalAlpha=n.fillAlpha*r,e.fillStyle=o,e.fill()),n.lineWidth&&(e.globalAlpha=n.lineAlpha*r*l,e.strokeStyle=a,e.stroke())}}},i.CanvasGraphics.renderGraphicsMask=function(t,e){for(var r=0,s=t.graphicsData.length;r<s;r++){var n=t.graphicsData[r],h=n.shape;if(n.type===i.Graphics.POLY){var o=h.points;e.moveTo(o[0],o[1]);for(var a=1;a<o.length/2;a++)e.lineTo(o[2*a],o[2*a+1])}else if(n.type===i.Graphics.RECT)e.rect(h.x,h.y,h.width,h.height);else if(n.type===i.Graphics.CIRC)e.arc(h.x,h.y,h.radius,0,2*Math.PI);else if(n.type===i.Graphics.ELIP){var l=2*h.width,c=2*h.height,d=h.x-l/2,p=h.y-c/2,u=.5522848,f=l/2*u,y=c/2*u,g=d+l,x=p+c,v=d+l/2,b=p+c/2;e.moveTo(d,b),e.bezierCurveTo(d,b-y,v-f,p,v,p),e.bezierCurveTo(v+f,p,g,b-y,g,b),e.bezierCurveTo(g,b+y,v+f,x,v,x),e.bezierCurveTo(v-f,x,d,b+y,d,b)}else if(n.type===i.Graphics.RREC){var m=h.x,T=h.y,C=h.width,w=h.height,_=h.radius,M=Math.min(C,w)/2|0;_=Math.min(M,_),e.moveTo(m+_,T),e.lineTo(m+C-_,T),e.arc(m+C-_,T+_,_,-Math.PI/2,0),e.lineTo(m+C,T+w-_),e.arc(m+C-_,T+w-_,_,0,Math.PI/2),e.lineTo(m+_,T+w),e.arc(m+_,T+w-_,_,Math.PI/2,Math.PI),e.lineTo(m,T+_),e.arc(m+_,T+_,_,-Math.PI,-Math.PI/2)}}},i.Graphics=function(){i.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.preserveLineWidth=!1,this.lineDash=[],this.lineCap="butt",this.lineJoin="miter",this.graphicsData=[],this.currentPath=null,this.isMask=!1,this.boundsPadding=0,this._localBounds=new i.Rectangle(0,0,1,1),this.dirty=!0,this.cachedSpriteDirty=!1},i.Graphics.prototype=Object.create(i.DisplayObjectContainer.prototype),i.Graphics.prototype.constructor=i.Graphics,Object.defineProperty(i.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():(this.destroyCachedSprite(),this.dirty=!0)}}),i.Graphics.prototype.lineStyle=function(t,e,r){if(this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=arguments.length<3?1:r,this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha}return this},i.Graphics.prototype.setLineDash=function(t){if(this.lineDash=t||[],this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineDash=this.lineDash}return this},i.Graphics.prototype.setLineCap=function(t){if(this.lineCap=t||"butt",this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineCap=this.lineCap}return this},i.Graphics.prototype.setLineJoin=function(t){if(this.lineJoin=t||"miter",this.currentPath){if(this.currentPath.shape.points.length)return this.drawShape(new i.Polygon(this.currentPath.shape.points.slice(-2))),this;this.currentPath.lineJoin=this.lineJoin}return this},i.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new i.Polygon([t,e])),this},i.Graphics.prototype.lineTo=function(t,e){return i.objectChanged(this),this.currentPath.shape.points.push(t,e),this.dirty=!0,this},i.Graphics.prototype.quadraticCurveTo=function(t,e,r,s,n){i.objectChanged(this),this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var h,o,a=this.currentPath.shape.points;0===a.length&&this.moveTo(0,0);var l=a[a.length-2],c=a[a.length-1];n||(n=i.getCurveSegmentsCount(l,c,r,s));for(var d=0,p=1;p<=n;p++)h=l+(t-l)*(d=p/n),o=c+(e-c)*d,a.push(h+(t+(r-t)*d-h)*d,o+(e+(s-e)*d-o)*d);return this.dirty=!0,this},i.Graphics.prototype.bezierCurveTo=function(t,e,r,s,n,h,o){i.objectChanged(this),this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a,l,c,d,p,u=this.currentPath.shape.points,f=u[u.length-2],y=u[u.length-1];o||(o=i.getCurveSegmentsCount(f,y,n,h));for(var g=0,x=1;x<=o;x++)c=(l=(a=1-(g=x/o))*a)*a,p=(d=g*g)*g,u.push(c*f+3*l*g*t+3*a*d*r+p*n,c*y+3*l*g*e+3*a*d*s+p*h);return this.dirty=!0,this},i.getCurveSegmentsCount=function(t,e,i,r){var s=i-t,n=r-e,h=Math.sqrt(s*s+n*n);return Math.min(Math.max(5,Math.round(h/5)),80)},i.Graphics.prototype.arcTo=function(t,e,r,s,n){i.objectChanged(this),this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var h=this.currentPath.shape.points,o=h[h.length-2],a=h[h.length-1]-e,l=o-t,c=s-e,d=r-t,p=Math.abs(a*d-l*c);if(p<1e-8||0===n)h[h.length-2]===t&&h[h.length-1]===e||h.push(t,e);else{var u=a*a+l*l,f=c*c+d*d,y=a*c+l*d,g=n*Math.sqrt(u)/p,x=n*Math.sqrt(f)/p,v=g*y/u,b=x*y/f,m=g*d+x*l,T=g*c+x*a,C=l*(x+v),w=a*(x+v),_=d*(g+b),M=c*(g+b),S=Math.atan2(w-T,C-m),O=Math.atan2(M-T,_-m);this.arc(m+t,T+e,n,S,O,l*c>d*a)}return this.dirty=!0,this},i.Graphics.prototype.arc=function(t,e,r,s,n,h){i.objectChanged(this);var o,a=t+Math.cos(s)*r,l=e+Math.sin(s)*r;if(this.moveTo(a,l),this.currentPath?0===(o=this.currentPath.shape.points).length?o.push(a,l):o[o.length-2]===a&&o[o.length-1]===l||o.push(a,l):o=this.currentPath.shape.points,s===n)return this;!h&&n<=s?n+=2*Math.PI:h&&s<=n&&(s+=2*Math.PI);var c=h?-1*(s-n):n-s,d=Math.abs(c)/(2*Math.PI)*90;if(0===c)return this;for(var p=c/(2*d),u=2*p,f=Math.cos(p),y=Math.sin(p),g=d-1,x=g%1/g,v=0;v<=g;v++){var b=p+s+u*(v+x*v),m=Math.cos(b),T=-Math.sin(b);o.push((f*m+y*T)*r+t,(f*-T+y*m)*r+e)}return this.dirty=!0,this},i.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},i.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},i.Graphics.prototype.drawRect=function(t,e,r,s){return this.drawShape(new i.Rectangle(t,e,r,s)),this},i.Graphics.prototype.drawRoundedRect=function(t,e,r,s,n,h,o,a){return n<0||h<0||o<0||a<0?(window.ErrorsTracker&&window.ErrorsTracker.error(new Error("Negative radius in rounded rect"),{x:t,y:e,width:r,height:s,radiusTopLeft:n,radiusTopRight:h,radiusBottomRight:o,radiusBottomLeft:a}),this):(this.drawShape(new i.RoundedRectangle(t,e,r,s,n,h,o,a)),this)},i.Graphics.prototype.drawCircle=function(t,e,r){return r<0?(window.ErrorsTracker&&window.ErrorsTracker.error(new Error("Negative radius in circle"),{x:t,y:e,radius:r}),this):(this.drawShape(new i.Circle(t,e,r)),this)},i.Graphics.prototype.drawEllipse=function(t,e,r,s){return this.drawShape(new i.Ellipse(t,e,r,s)),this},i.Graphics.prototype.drawPolygon=function(t){return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.drawShape(new i.Polygon(t)),this},i.Graphics.prototype.clear=function(){return i.objectChanged(this),this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},i.Graphics.prototype.generateTexture=function(t,e){t=t||1;var r=this.getBounds(),s=new i.CanvasBuffer("graphics_gen_texture",r.width*t,r.height*t),n=i.Texture.fromCanvas(s.canvas,e);return n.baseTexture.resolution=t,s.context.scale(t,t),s.context.translate(-r.x,-r.y),i.CanvasGraphics.renderGraphics(this,s.context),n},i.Graphics.prototype._renderContent=function(t){var e=t.context,r=this.worldTransform;e.setTransform(r.a,r.b,r.c,r.d,r.tx,r.ty),i.CanvasGraphics.renderGraphics(this,e),this.graphicsData.length&&(i._drawImageCount=0)},i.Graphics.prototype.getBounds=function(t){if(this.isMask)return i.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.cachedSpriteDirty=!0,this.dirty=!1);var e=this._localBounds,r=e.x,s=e.width+e.x,n=e.y,h=e.height+e.y,o=t||this.worldTransform,a=o.a,l=o.b,c=o.c,d=o.d,p=o.tx,u=o.ty,f=a*s+c*h+p,y=d*h+l*s+u,g=a*r+c*h+p,x=d*h+l*r+u,v=a*r+c*n+p,b=d*n+l*r+u,m=a*s+c*n+p,T=d*n+l*s+u,C=f,w=y,_=f,M=y;return _=m<(_=v<(_=g<_?g:_)?v:_)?m:_,M=T<(M=b<(M=x<M?x:M)?b:M)?T:M,C=m>(C=v>(C=g>C?g:C)?v:C)?m:C,w=T>(w=b>(w=x>w?x:w)?b:w)?T:w,this._bounds.x=_,this._bounds.width=C-_,this._bounds.y=M,this._bounds.height=w-M,this._bounds},i.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,r=1/0,s=-1/0;if(this.graphicsData.length)for(var n,h,o,a,l,c,d=0;d<this.graphicsData.length;d++){var p=this.graphicsData[d],u=p.type,f=p.lineWidth;if(n=p.shape,u===i.Graphics.RECT||u===i.Graphics.RREC)o=n.x-f/2,a=n.y-f/2,t=o<t?o:t,e=o+(l=n.width+f)>e?o+l:e,r=a<r?a:r,s=a+(c=n.height+f)>s?a+c:s;else if(u===i.Graphics.CIRC)o=n.x,a=n.y,t=o-(l=n.radius+f/2)<t?o-l:t,e=o+l>e?o+l:e,r=a-(c=n.radius+f/2)<r?a-c:r,s=a+c>s?a+c:s;else if(u===i.Graphics.ELIP)o=n.x,a=n.y,t=o-(l=n.width+f/2)<t?o-l:t,e=o+l>e?o+l:e,r=a-(c=n.height+f/2)<r?a-c:r,s=a+c>s?a+c:s;else{h=n.points;for(var y=0;y<h.length;y+=2)t=(o=h[y])-f<t?o-f:t,e=o+f>e?o+f:e,r=(a=h[y+1])-f<r?a-f:r,s=a+f>s?a+f:s}}else t=0,e=0,r=0,s=0;var g=this.boundsPadding;this._localBounds.x=t-g,this._localBounds.width=e-t+2*g,this._localBounds.y=r-g,this._localBounds.height=s-r+2*g},i.Graphics.prototype._generateCachedSprite=function(){var t=this.getLocalBounds();if(this._cachedSprite)this._cachedSprite.buffer.resize(t.width,t.height);else{var e=new i.CanvasBuffer("graphics_gen_cached_sprite",t.width,t.height),r=i.Texture.fromCanvas(e.canvas);this._cachedSprite=new i.Sprite(r),this._cachedSprite.buffer=e,this._cachedSprite.worldTransform=this.worldTransform}this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._cachedSprite.buffer.context.translate(-t.x,-t.y),this.worldAlpha=1,i.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},i.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height},i.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},i.Graphics.prototype.drawShape=function(t){i.objectChanged(this),this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new i.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.lineDash,this.lineCap,this.lineJoin,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(e),e.type===i.Graphics.POLY&&(e.shape.closed=this.filling,this.currentPath=e),this.dirty=!0,e},i.GraphicsData=function(t,e,i,r,s,n,h,o,a,l){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.lineDash=r,this.lineCap=s,this.lineJoin=n,this.fillColor=h,this.fillAlpha=o,this.fill=a,this._fillColorStr="#"+("00000"+(0|h).toString(16)).substr(-6),this._lineColorStr="#"+("00000"+(0|e).toString(16)).substr(-6),this.shape=l,this.type=l.type},i.Graphics.POLY=0,i.Graphics.RECT=1,i.Graphics.CIRC=2,i.Graphics.ELIP=3,i.Graphics.RREC=4,i.Polygon.prototype.type=i.Graphics.POLY,i.Rectangle.prototype.type=i.Graphics.RECT,i.Circle.prototype.type=i.Graphics.CIRC,i.Ellipse.prototype.type=i.Graphics.ELIP,i.RoundedRectangle.prototype.type=i.Graphics.RREC,i.BaseTexture=function(t,e){if(this.resolution=1,this.width=100,this.height=100,this.scaleMode=e||i.scaleModes.DEFAULT,this.hasLoaded=!1,this.loadFailed=!1,this.source=t,this._UID=i._UID++,t){if((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height;else{var r=this;this.source.onload=function(){r.source&&(r.hasLoaded=!0,r.width=r.source.naturalWidth||r.source.width,r.height=r.source.naturalHeight||r.source.height,r.dispatchEvent({type:"loaded",content:r}))},this.source.onerror=function(){r.loadFailed=!0,r.dispatchEvent({type:"error",content:r})}}this.imageUrl=null}},i.BaseTexture.prototype.constructor=i.BaseTexture,i.EventTarget.mixin(i.BaseTexture.prototype),i.BaseTexture.prototype.destroy=function(){this.imageUrl?(delete i.BaseTextureCache[this.imageUrl],delete i.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete i.BaseTextureCache[this.source._pixiId],this.source=null},i.BaseTexture.prototype.updateSourceImage=function(t){this.hasLoaded=!1,this.source.src=null,this.source.src=t},i.BaseTexture.prototype.onLoad=function(t){var e=this,i=function(){e.removeAllListeners("error"),e.removeEventListener("loaded",i),t(e)};return e.hasLoaded?window.__rafRequestOriginal((function(){t(e)})):e.addEventListener("loaded",i),e},i.BaseTexture.prototype.onLoadError=function(t){var e=this,i=function(){e.removeAllListeners("loaded"),e.removeEventListener("error",i),t(e)};return e.loadFailed?window.__rafRequestOriginal((function(){t(e)})):e.addEventListener("error",i),e},i.BaseTexture.fromImage=function(t,e,r){var s=i.BaseTextureCache[t];if(!s){var n=new Image,h=t;e&&n.setAttribute("crossOrigin","anonymous"),n.src=h,(s=new i.BaseTexture(n,r)).imageUrl=t,i.BaseTextureCache[t]=s}return s},i.BaseTexture.fromImageObject=function(t,e){var r=i.BaseTextureCache[t.src];return r||((r=new i.BaseTexture(t,e)).imageUrl=t.src,i.BaseTextureCache[t.src]=r),r},i.BaseTexture.fromCanvas=function(t,e){t._pixiId||(t._pixiId="canvas_"+i.TextureCacheIdGenerator++);var r=i.BaseTextureCache[t._pixiId];return r||(r=new i.BaseTexture(t,e),i.BaseTextureCache[t._pixiId]=r),r},i.TextureCache={},i.FrameCache={},i.TextureCacheIdGenerator=0,i.Texture=function(t,e,r,s){this.noFrame=!1,e||(this.noFrame=!0,e=new i.Rectangle(0,0,1,1)),t instanceof i.Texture&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=s,this.valid=!1,this.width=0,this.height=0,this.crop=r||new i.Rectangle(0,0,1,1),this.onBaseTextureLoadedWrapper=this.onBaseTextureLoaded.bind(this),t.hasLoaded?(this.noFrame&&(e=new i.Rectangle(0,0,t.width,t.height)),this.setFrame(e)):t.addEventListener("loaded",this.onBaseTextureLoadedWrapper)},i.Texture.prototype.constructor=i.Texture,i.EventTarget.mixin(i.Texture.prototype),i.Texture.prototype.onBaseTextureLoaded=function(){var t=this.baseTexture;t.removeEventListener("loaded",this.onBaseTextureLoadedWrapper),this.noFrame&&(this.frame=new i.Rectangle(0,0,t.width,t.height)),this.setFrame(this.frame),this.dispatchEvent({type:"update",content:this})},i.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},i.Texture.prototype.setFrame=function(t){i.objectChanged(null),this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height)},i.Texture.fromImage=function(t,e,r){var s=i.TextureCache[t];return s||(s=new i.Texture(i.BaseTexture.fromImage(t,e,r)),i.TextureCache[t]=s),s},i.Texture.fromFrame=function(t){var e=i.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache ');return e},i.Texture.fromCanvas=function(t,e){var r=i.BaseTexture.fromCanvas(t,e);return new i.Texture(r)},i.Texture.fromImageObject=function(t,e){var r=i.TextureCache[t.src];return r||(r=new i.Texture(i.BaseTexture.fromImageObject(t,e)),i.TextureCache[t.src]=r),r},i.Texture.fromImageWithoutCache=function(t,e,r){return new i.Texture(i.BaseTexture.fromImage(t,e,r))},i.Texture.prototype.onLoad=function(t){var e=this,i=function(){e.baseTexture.removeAllListeners("error"),e.baseTexture.removeEventListener("loaded",i),t(e)};return e.baseTexture.hasLoaded?window.__rafRequestOriginal((function(){t(e)})):e.baseTexture.addEventListener("loaded",i),e},i.Texture.prototype.onLoadError=function(t){var e=this,i=function(){e.baseTexture.removeAllListeners("loaded"),e.baseTexture.removeEventListener("error",i),t(e)};return e.baseTexture.loadFailed?window.__rafRequestOriginal((function(){t(e)})):e.baseTexture.addEventListener("error",i),e},i.Texture.addTextureToCache=function(t,e){i.TextureCache[e]=t},i.Texture.removeTextureFromCache=function(t){var e=i.TextureCache[t];return delete i.TextureCache[t],delete i.BaseTextureCache[t],e},i.Texture.emptyTexture=new i.Texture(new i.BaseTexture),i.RenderTexture=function(t,e,r,s,n,h,o,a){this.width=e||100,this.height=r||100,this.resolution=o||1,this.frame=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new i.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new i.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=h||i.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,i.Texture.call(this,this.baseTexture,new i.Rectangle(0,0,this.width,this.height)),this.renderer=n||i.defaultRenderer,this.render=this.renderCanvas,this.textureBuffer=a||new i.CanvasBuffer(t,this.width*this.resolution,this.height*this.resolution,s),this.baseTexture.source=this.textureBuffer.canvas,this.valid=!0},i.RenderTexture.prototype=Object.create(i.Texture.prototype),i.RenderTexture.prototype.constructor=i.RenderTexture,i.RenderTexture.prototype.resize=function(t,e,i){t!==this.width||e!==this.height?(this.valid=t>0&&e>0,this.width=this.frame.width=this.crop.width=t,this.height=this.frame.height=this.crop.height=e,i&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&this.textureBuffer.resize(this.width*this.resolution,this.height*this.resolution)):this.textureBuffer.clear()},i.RenderTexture.prototype.clear=function(){this.valid&&this.textureBuffer.clear()},i.RenderTexture.prototype.destroy=function(){this.clear(),this.valid=!1},i.RenderTexture.prototype.renderCanvas=function(t,e,r){if(this.valid){var s=t.worldTransform;s.identity(),e&&s.append(e),t._worldScale=Math.sqrt(s.a*s.a+s.b*s.b),t.worldAlpha=1,t._mask&&i.CanvasMaskManager.updateMaskTransform(t);for(var n=t.children,h=0,o=n.length;h<o;h++)n[h].dirtyGeom=!0;r&&this.textureBuffer.clear();var a=this.textureBuffer.context;t.dirtyGeom=!1,this.renderer.renderDisplayObject(t,a),t.dirtyGeom=!0}},i.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},i.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},i.RenderTexture.prototype.getCanvas=function(){return this.textureBuffer.canvas},i.RenderTexture.tempMatrix=new i.Matrix,i.LiveText=function(t,e){i.Sprite.call(this,null),this.resolution=1,this._fontString="",this._directedText="",this.setText(t),this.fontSize=10,this.lineHeight=11,this.fontFamily="Arial",this.fontWeight=void 0,this.color="black",this.bold=!1,this.italic=!1,this.underline=!1,this.background=!1,this.strike=!1,this.fontMetrics=!1,this.setStyle(e)},i.LiveText.prototype=Object.create(i.Sprite.prototype),i.LiveText.prototype.constructor=i.LiveText,Object.defineProperty(i.LiveText.prototype,"width",{get:function(){return this.recalcWidth(),this.__width}}),i.LiveText.prototype.setText=function(t){this.text=t?""+t:"",this.__width=0,this.dirty=!0},i.LiveText.prototype.setStyle=function(t){t&&(void 0!==t.color&&(this.color=t.color),void 0!==t.fontWeight&&(this.fontWeight=t.fontWeight,this.dirty=!0),void 0!==t.bold&&(this.bold=t.bold,this.dirty=!0),void 0!==t.italic&&(this.italic=t.italic,this.dirty=!0),void 0!==t.underline&&(this.underline=t.underline),void 0!==t.strike&&(this.strike=t.strike),void 0!==t.background&&(this.background=t.background),t.font&&(this.fontFamily=t.font,this.dirty=!0),t.size&&(this.fontSize=t.size,t.lineHeight||(this.lineHeight=Math.ceil(1.1*this.fontSize)),this.dirty=!0),t.lineHeight&&(this.lineHeight=t.lineHeight),void 0!=t.direction&&(this.direction=t.direction,this.dirty=!0),this.dirty&&(this.__width=0),t.actualWidth&&(this.__width=t.actualWidth),t.fontMetrics&&(this.fontMetrics=t.fontMetrics))},i.LiveText.prototype.recalcWidth=function(){if(this.dirty){this.dirty=!1,this._fontString=this.getFontString(),!this.__width&&this.text.length&&(i.Text.fontPropertiesContext.font=this._fontString,this.__width=i.Text.fontPropertiesContext.measureText(this.text).width);var t="rtl"==this.direction?i.RLM:i.LRM;this._directedText=t+this.text+t}},i.LiveText.prototype.getFontString=function(){var t="";return this.fontWeight?t+=this.fontWeight+" ":this.bold&&(t+="bold "),this.italic&&(t+="italic "),t+=this.fontSize+"px "+this.fontFamily},i.LiveText.prototype._renderContent=function(t){t.context.globalAlpha=this.worldAlpha;var e=this.worldTransform,i=e.tx*t.resolution,r=e.ty*t.resolution;(t.roundPixels||this.roundPixels)&&(i|=0,r|=0),t.context.setTransform(e.a,e.b,e.c,e.d,i,r),this.recalcWidth();var s=t.context;this.background&&this._directedText.length>0&&(s.fillStyle=this.background,s.lineWidth=1,s.fillRect(0,0,this.__width,this.lineHeight),s.fillStyle="transparent"),s.font=this._fontString,s.textBaseline="middle",s.fillStyle=this.color;var n=(this.lineHeight||this.fontSize)/2,h=Math.floor(.1*this.fontSize),o=Math.ceil(.1*this.fontSize),a=n+this.fontSize/2-o/2,l=n;this.fontMetrics&&(a=(n=this.fontMetrics.ascent)+o/2,l=(this.lineHeight||this.fontSize)/2,s.textBaseline="alphabetic"),s.fillText(this._directedText,0,n),this.underline&&s.fillRect(0,a,this.__width,h),this.strike&&s.fillRect(0,l,this.__width,h)},t.exports&&(e=t.exports=i),e.PIXI=i}).call(this)}}]);
//# sourceMappingURL=https://miro.com/app/static/vendorPIXI~Boa~14faa4f9.1c99403bca8bf7ce5900.js.map